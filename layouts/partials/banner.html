{{- with .Params.banner }}

  {{/* Try get banner as page resource */}}
  {{- $src := printf "%s" . }}
  {{- with $.Resources.GetMatch $src }}
    {{- partial "banner-figure" . }}

  {{- else }}

    {{/* Or try get banner as parent page resource */}}
    {{- with $.Parent }}
      {{- partial "banner" . }}
    {{- end }}

  {{- end }}

{{- else }}

  {{/* If banner not explicitly deactivated on page (banner: `false` on front matter) */}}
  {{- if not (eq .Params.banner false) }}

    {{/* Or try get parent banner */}}
    {{- with .Parent }}
      {{- partial "banner" . }}
    {{- end }}

  {{- end }}

{{- end }}
